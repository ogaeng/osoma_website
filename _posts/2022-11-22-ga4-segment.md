---
layout: post
division: blog
author: ann
ids: ga4-segment
title:  "GA4 세그먼트: UA와의 차이점부터 제대로 사용하고 잠재고객까지 만들기"
permalink: /blog/ga4-segment/
categories:
  - blog
  - GA
date:   2022-11-22 00:30:00 +9:00
image:  '/images/posts/ga4-segment/thumb.png'
tags:   [GA, GA4]
description: UA와 달라진 GA4의 세그먼트 기능에 대해 알아봅니다.
---

## 유니버셜 애널리틱스(UA)의 세그먼트, 잘 활용하고 계셨나요?

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/01.png" alt="유니버셜 애널리틱스(UA)의 획득 > 소스/매체 보고서 화면">
  </div>
  <em>유니버설 애널리틱스(UA)의 획득 > 소스/매체 보고서 화면</em>
</div>

GA4가 등장한지도 꽤 되었지만, 아직도 UA가 더 친숙하고 다루기 쉬운 느낌이 듭니다. 이벤트 데이터 세팅을 완벽하게 해두지 못했더라도 소스 매체 분석이나 페이지별 세션 흐름을 기본 보고서에서 어느 정도 확인할 수 있으니까요.  

세그먼트도 UA에서 활발하게 쓰이던 유용한 기능 중 하나입니다. UA에서는 세그먼트 설정 박스가 대부분의 기본 보고서 위에 자리합니다. 위 이미지처럼요. 한 번 만든 타겟 세그먼트는 해당 보고서뿐 아니라 여러 보고서에서 공통적으로 사용할 수 있습니다. 즐겨찾기 해 두거나 협업자에게 공유 기능도 제공합니다. 그래서 세그먼트를 통해 각 보고서의 데이터를 비교하고 필터하는 일이 수월하게 진행되었죠.

그런데 GA4에서는 세그먼트가 조금 달라졌습니다. 개인적으로는 UA와 비교했을 때 가장 크게 달라진 기능 중 하나라고 생각합니다.

## GA4와 UA 세그먼트의 차이점

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/02.png" alt="GA4 획득 > 트래픽 획득 보고서 화면">
  </div>
  <em>GA4 획득 > 트래픽 획득 보고서 화면</em>
</div>

일단 보고서 차트 상단에 자리하던 세그먼트 설정 박스가 사라졌습니다. **기본 보고서에서 아예 세그먼트 기능이 없어진 것입니다. 놀라운** 변화입니다. (1) [필터 추가]나 (2) [비교 수정] 같은 버튼이 생겼지만, 세그먼트 대체 기능으로 만들어 둔 것은 아닌 것 같습니다. 위 오른쪽 이미지로 해당 기능의 상세 설정 요소를 확인할 수 있는데, AND 조건은 있으나 OR 조건은 적용할 수 없고, 측정기준 값도 직접 기입하는 방식이 아닌 리스트 선택만 가능한 상황이라 사실상 단편적인 조건 설정만 가능하기 때문입니다.

UA 내의 [고급 필터] 기능을 GA4에서는 보고서 앞단으로 빼내 둔 것으로 보입니다. 세그먼트 기능을 사용하는 유저들이 생각보다 많지 않았던 걸까요? 간단한 비교는 더욱 직관적으로 사용할 수 있도록, 타겟 세그먼트 분리 기능은 뒷단의 심화 탐색 보고서에서 사용하도록 GA4는 배치를 변경했습니다.

네. **기본 보고서에는 없지만 탐색 보고서에는 세그먼트 기능이 존재합니다.**  
어떤 점이 동일하고 어떤 점이 달라졌는지, 새롭게 알아두어야 할 것은 무엇인지 이 글에서 정리해 보고자 합니다.

## UA와 GA4 세그먼트의 3가지 큰 차이점

- 기본 보고서에서는 사용할 수 없고 탐색 보고서에서만 사용이 가능합니다.
- 세그먼트 생성 방식이 달라졌습니다.
- 예측 잠재고객 그룹을 만들 수 있습니다. (ex. 7일 이내 구매할 가능성이 높은 사용자)

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/03.png" alt="UA와 GA4의 세그먼트: 기타 생성 기준 비교">
  </div>
  <em>UA와 GA4의 세그먼트: 기타 생성 기준 비교</em>
</div>

## GA4 세그먼트는 탐색 보고서에서만 사용이 가능하다?

탐색 보고서는 UA의 맞춤 보고서 강화 버전이라고 할 수 있습니다. 맨 왼쪽에 있는 주요한 5가지 탭 메뉴 중 하나로, 보고서 탭 바로 아래 자리 잡았습니다. 데이터 심화 분석을 원하는 사용자를 위해 본격적으로 커스텀 할 수 있는 피벗 테이블을 탐색 보고서라는 이름으로 제공하고 있는 것입니다. 바로 이 탐색 보고서에는 세그먼트 기능이 존재합니다. 이벤트와 매개변수 데이터 세팅을 잘해 두었다면 UA에서 제공하던 세그먼트 분류보다 더 세밀한 설정이 가능합니다.

탐색 보고서에서 세그먼트를 만드는 방법은 다음과 같습니다.

#### [세그먼트 생성 단계]

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/05.png" alt="STEP1: GA4 탐색 분석 보고서 > 세그먼트(+) 선택">
  </div>
  <em>STEP 1: GA4 탐색 분석 보고서 > 세그먼트(+) 선택</em>
</div>

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/06.png" alt="STEP 2: 세그먼트 유형 선택">
  </div>
  <em>STEP 2: 세그먼트 유형 선택</em>
</div>

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/07.png" alt="STEP 3: 세부 조건 기입 & 잠재고객 생성 여부 선택">
  </div>
  <em>STEP 3: 세부 조건 기입 & 잠재고객 생성 여부 선택</em>
</div>

## GA4 세그먼트 생성 방식이 달라졌다?

위에서 보는 것과 같이 **GA4에서는 사용자, 세션, 이벤트를 기반으로 세그먼트를 생성할 수 있습니다.** 사용자, 세션 기준을 제공하던 UA에 비해 고도화된 모습입니다. 데이터 집계 기준이 세션에서 이벤트로 바뀐 만큼 자연스러운 변화로도 보입니다. 저는 변화된 GA4 세그먼트 생성 방식이 참 좋은데, 이유는 다음과 같습니다.

(1) STEP3 설정 창이 고도화되었습니다. UA 세그먼트의 고급 조건(커스텀 설정) 기능이 GA4에서는 메인 기능으로 제공됩니다. 원하는 세그먼트 조건을 처음부터 커스텀 할 수 있게 하되, 혹시 템플릿 예시가 필요한 경우 하위 리스트에서 찾아볼 수 있게 배치 우선순위를 변경한 것입니다. 그리고 이 설정 창의 첫 번째 리스트 요소는 [이벤트]입니다.
이벤트 데이터를 적극적으로 수집하고 세밀하게 보고자 하는 니즈가 있는 사용자라면 원하는 조건을 빠르고 뾰족하게 설정할 수 있는 환경이 구축되었다고 생각합니다.

(2) 세그먼트 생성 시 작은 필터 요소로 존재하던 세션 / 사용자 선택 박스가 GA4에서는 따로 화면 단위로 빠져 하나의 생성 스텝이 되었습니다. 이제 **세그먼트를 만들기 위해서는 먼저 사용자 / 세션 / 이벤트 유형을 선택해야만 합니다.** UA에서 세그먼트를 만들 때 세션수와 사용자의 차이가 알듯 말듯 헷갈려서 고생했던 기억이 있습니다. 이 기준에 따라 데이터 차이가 생기는데 이해가 완벽하게 되지 않아서 저의 경우 무조건 세션수로만 세그먼트를 생성하기도 했었습니다.
GA4에서는 이렇듯 요소가 강조되니 개념 차이도 크게 느껴져 상대적으로 기능을 이해하기 편해졌습니다.

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/08.png" alt="UA 세그먼트 생성 화면 vs. GA4 세그먼트 생성 화면">
  </div>
  <em>UA 세그먼트 생성 화면 vs. GA4 세그먼트 생성 화면</em>
</div>

바로 그 사용자 / 세션 / 이벤트 유형별 세그먼트 차이를 정리하면 아래와 같습니다.

- 사용자 형식: 해당 세그먼트 조건을 충족하는 **사용자**의 모든 데이터
- 세션 형식: 해당 세그먼트 조건을 충족하는 **세션**의 모든 데이터
- 이벤트 형식: 해당 세그먼트 조건을 충족하는 **이벤트**의 모든 데이터

다음은 사용자 A의 서비스 내 데이터를 도식화한 것입니다. 사용자 A는 3개의 세션을 발생시켰고 각 세션에는 저마다의 이벤트 데이터가 찍혔습니다. 여기서 우리가 이벤트 AAA(빨간 박스)를 조건으로 한 세그먼트를 만든다면, 이 세그먼트에 포함되는 데이터는 형식별로 어떻게 달라질까요?

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/09.png" alt="예시) 사용자 A의 서비스 내 데이터 도식화">
  </div>
  <em>예시) 사용자 A의 서비스 내 데이터 도식화</em>
</div>

사용자 형식 세그먼트로 잡는다면: 이벤트 AAA를 발생시킨 사용자 A의 데이터가 모두 세그먼트에 포함됩니다. 이벤트가 찍히지 않은 세션의 데이터도 동일한 사용자의 것이기 때문에 세그먼트에 함께 집계됩니다.
세션 형식 세그먼트로 잡는다면: 사용자 A의 데이터 중 이벤트 AAA가 포함된 세션의 데이터만 세그먼트에 포함됩니다. 해당 세션에서 터진 이벤트가 이벤트 AAA만이 아니더라도 상관없이 그 세션에 속한 모든 데이터가 세그먼트에 포함되는 것입니다.
마지막으로 이벤트 형식 세그먼트로 잡는다면: 이벤트 AAA 데이터 그 자체만 가져오게 됩니다.

이런 차이를 인지하지 않고 세그먼트를 만들게 되면 동일한 조건으로 만들었는데도 세그먼트 모수 차이가 나서 매우 혼란스러운 상황이 발생할 수 있습니다. 세그먼트를 저장해서 보고서마다 공통적으로 사용할 수 없는 현재의 GA4에서는 특히 더 주의해야 하는 부분입니다.

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/10.png" alt="형식에 따른 세그먼트 데이터 차이: 이벤트 조건은 동일하지만 세그먼트 형식별로 모수 크기가 다름">
  </div>
  <em>형식에 따른 세그먼트 데이터 차이: 이벤트 조건은 동일하지만 세그먼트 형식별로 모수 크기가 다름</em>
</div>

## GA4 세그먼트는 추천(예측) 잠재고객을 잡을 수 있다?

마지막 차이점은 기존 UA에는 없었던 추천(예측) 잠재고객 제공 기능입니다. GA4에서는 위에서 논의한 사용자 / 세션 / 이벤트 기준으로 맞춤 세그먼트를 만들 수도 있고, 그 하단에 위치한 추천 기능을 활용해 세그먼트를 만들 수도 있습니다. 추천 세그먼트는 (1) 조건을 커스텀 설정하는 데에 익숙하지 않거나 (2) 어떤 기준으로 세그먼트를 만들지 고민될 때 활용할 수 있도록 몇 가지 기준을 템플릿 화해서 제시합니다.

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/11.png" alt="GA4 세그먼트 형식 선택창: 4가지 탭">
  </div>
  <em>GA4 세그먼트 형식 선택창: 4가지 탭</em>
</div>

- 일반 & 쇼핑(쇼핑 탭은 속성 산업 분류에 따라 상이): 일반 탭에서는 활동 및 구매 내역을 기준으로 기본적인 세그먼트 기준을 제공합니다. 커머스 서비스에서 주요하게 볼만한 이벤트로 구성되어 있습니다. 쇼핑 탭은 GA4 계정 초기 세팅 시 선택한 산업 분류에 따라 서비스별로 다르게 제공되는데, 그루핑 기준을 다양하게 제시할 뿐 일반 탭과 큰 차이는 없습니다.
해당 세그먼트는 sign_up, purchase와 같이 GA4에서 지정한 기본적인 이벤트들로 설정되어 있습니다. 이 중에는 GA4 자동 수집 이벤트도 포함되어 있지만 별도로 데이터 세팅을 해 두어야만 확인할 수 있는 이벤트도 있습니다. 해당 이벤트 데이터를 사전에 수집해두지 않았다면 해당 세그먼트를 만들 수 없게 됩니다. 다만 그 경우에도 세그먼트의 틀만 유지하고 조건 이벤트를 교체해서 사용할 수는 있습니다.
- 템플릿: UA 세그먼트 생성 대시보드의 상단 리스트에 있던 조건들이 GA4 템플릿 탭 안에 들어갔습니다. 인구통계 / 기술 / 획득 기준으로 제시되며 템플릿 세그먼트는 일반, 쇼핑 세그먼트와 달리 상위 기준 수정이 불가능합니다.
- 추천(예측) 잠재고객: 7일 이내에 구매할 가능성이 높은 사용자, 7일 이내에 앱을 삭제할 가능성이 높은 사용자 등 데이터 기반으로 고객 행동을 예측해서 세그먼트화 해주는 기능입니다. **추천 세그먼트를 만들기 위해서는 세그먼트 생성 조건인 예측 측정항목이 활성화되어야 합니다.** 그리고 예측 측정항목이 활성화되기 위해서는 예측을 가능케 할 만큼의 데이터가 필요합니다. GA4는 현재 해당 조건(구매, 앱 삭제 등)을 완료한 사용자 1,000명, 완료하지 않은 사용자 1,000명 총 2,000명의 데이터를 예측 측정항목을 활성화할 수 있는 데이터의 최소치로 명시하고 있습니다.

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/12.png" alt="GA4 예측 측정항목 활성화 기준 가이드">
  </div>
  <em>GA4 예측 측정항목 활성화 기준 가이드</em>
</div>

## GA4 세그먼트 사용 예시

세그먼트의 특징과 만드는 법은 살펴봤고, 이제는 세그먼트를 직접 사용해 보고자 합니다.
구글에서 제공하는 [GA4 데모 계정](https://support.google.com/analytics/answer/6367342){:target="_blank"} 가이드를 따라 Google Merchandise Store GA4 속성에서 만들 예정이니 원하시는 경우 따라서 세팅해 보셔도 좋겠습니다.

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/13.png" alt="GA4 데모 계정 Google Merchandise Store 속성: 자유 형식 탐색 보고서">
  </div>
  <em>GA4 데모 계정 Google Merchandise Store 속성: 자유 형식 탐색 보고서</em>
</div>

탐색 탭 > 새 탐색 분석 만들기 카드를 선택해서 자유 형식 보고서를 만들어 봤습니다. 보고자 한 것은 viem_item 이벤트, 즉 [상품 상세보기 페이지 방문]이 발생한 상품을 상품명과 조회수 기준으로 리스트업한 테이블입니다. 이 테이블을 만든 행, 값, 필터 기준은 다음과 같습니다.

- 의도: [상품 상세보기 페이지 방문]이 가장 많이 일어난 상품명은 무엇일까? 를 확인할 수 있는 데이터
- 행: 측정기준으로 [상품 상세보기 페이지 방문] 정보와 [상품명] 정보가 필요합니다. GA4 데모 계정에서 [상품 상세보기 페이지 방문]은 **view_item이라는 이벤트**로 수집됩니다. [상품명]은 **view_item 이벤트 안의 page_title 이라는 매개변수**로 수집됩니다. 필요한 정보가 어떻게 수집되고 있는지 파악했으니 행에 입력해주면 됩니다.<br>
맨 왼쪽 측정기준 리스트에서 + 버튼을 눌러 필요한 이벤트와 매개변수를 선택해주면 됩니다. 단, 매개변수는 측정기준에 바로 추가할 수 있으나 이벤트는 바로 기입할 수 없습니다. 대신 [이벤트 이름]이라는 측정기준을 가져와 매개변수인 page_title 과 함께 행에 추가해 줍니다.
- 필터: 행에 넣어둔 [이벤트 이름] 측정기준을 오직 view_item 이벤트 하나로 필터해서 보여주는 역할을 합니다. 필터에 [이벤트 이름] 측정기준을 넣으면 세부조건을 선택할 수 있는 인풋박스가 생겨납니다. <포함>, <제외>, <정확하게 일치> 등의 조건 중 원하는 것을 선택하신 후 이벤트 입력창에 view_item 을 기입합니다.<br>
이 예시에서는 [이벤트 이름] 측정기준을 필터로 선택한 후, view_item 이벤트와 <다음과 정확하게 일치>하는 조건만을 걸러내는 필터를 만들었습니다.
- 값: 어떤 수치, 어떤 측정항목를 보고 싶은지 정할 수 있는 요소입니다. 거래액, 거래횟수, 이벤트 발생횟수 등 여러가지가 있지만 여기서는 우선 [활성 사용자] 수치를 가져왔습니다.

이제 세그먼트를 나눠 데이터를 발라볼 차례입니다. 전체 사용자를 어떤 기준으로 나눠 보면 좋을까요? 저는 다음과 같은 질문을 들어 보았습니다.

**"구매자의 [상품 상세보기 페이지 방문]이 가장 많이 일어난 상품명은 무엇일까? 전체사용자 대비 구매자의 방문 비중만 튀는 상품이 따로 있을까?"**

답을 찾기 위해 구매자 세그먼트를 생성해보고자 합니다. 구매자 세그먼트는 따로 만들 필요 없이 추천 세그먼트에서 선택할 수 있습니다. 세부 기준을 살펴보면, 해당 데모 속성 내 포함된 구매 이벤트 3가지(in_app_purchase, purchase, ecommerce_purchase가 선택되어 있습니다. 셋 중의 한가지 이벤트만 발생시켜도 이 세그먼트에 포함되는 구조입니다.

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/14.png" alt="추천 세그먼트: 구매자 선택">
  </div>
  <em>추천 세그먼트: 구매자 선택</em>
</div>

맨 처음 만든 자유형식 테이블에는 세그먼트가 지정되어 있지 않았습니다. 이제 방금 만든 세그먼트를 추가해서 테이블을 업데이트 해 보겠습니다. 세그먼트를 추가하는 방법은 측정항목, 측정기준과 동일하게 드래그 앤 드롭으로 끌어와 [세그먼트 비교] 요소에 직접 넣어주는 것입니다. 하지만 최초 생성 시에는 생성과 동시에 [세그먼트 비교] 요소에 바로 적용됩니다.

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/15.png" alt="GA4 데모 계정 Google Merchandise Store 속성: 자유 형식 탐색 보고서에 세그먼트 추가">
  </div>
  <em>GA4 데모 계정 Google Merchandise Store 속성: 자유 형식 탐색 보고서에 세그먼트 추가</em>
</div>

세그먼트를 지정하지 않았을 때 나왔던 전체 사용자 데이터가 사라지고 구매자 기준 데이터로 업데이트되었습니다. 이번에는 구매자 세그먼트 외에, 비교를 위해서 최근에 활동한 사용자 세그먼트도 같은 방식으로 생성해 추가해 보겠습니다.

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/16.png" alt="GA4 데모 계정 Google Merchandise Store 속성: 자유 형식 탐색 보고서에 세그먼트 2개 이상 추가">
  </div>
  <em>GA4 데모 계정 Google Merchandise Store 속성: 자유 형식 탐색 보고서에 세그먼트 2개 이상 추가</em>
</div>

자유 형식 탐색 보고서에 세그먼트를 추가한 모습입니다. 최근 활동 사용자 세그먼트 대비 실구매자 세그먼트의 활성 사용자 수 비중 차이를 한눈에 확인할 수 있습니다.

다른 형식 탐색 보고서에서 세그먼트를 적용하면 어떨까요? 유입경로 탐색 분석 보고서에서 세그먼트를 적용한 화면을 보시면 다음과 같습니다.

<div class="gallery-box">
  <div class="gallery">
    <img src="/images/posts/ga4-segment/17.png" alt="GA4 데모 계정 Google Merchandise Store 속성: 유입경로 탐색 보고서에 세그먼트 비교 추가">
  </div>
  <em>GA4 데모 계정 Google Merchandise Store 속성: 유입경로 탐색 보고서에 세그먼트 비교 추가</em>
</div>

GA4가 지정한 전자상거래 표준 이벤트로 유입경로 퍼널을 만들었습니다. 그리고 이번에는 기기 카테고리 (mobile/desktop) 기준으로 세그먼트를 나눠봤습니다. 막대그래프 상에서는 두 세그먼트의 차이가 직관적으로 나타나지만, 그 아래 데이터 테이블은 단계별 유입 정보와 세그먼트 정보가 모두 행 기준으로 나와 직관적으로 해석하기 어려운 측면이 있습니다. **이렇듯 세그먼트는 유용한 기능이지만, 여러 세그먼트 비교를 시각화해서 보여주는 부분은 탐색 분석 보고서 내에서도 아직 개선이 필요한 실정입니다.**

유입경로 탐색 분석 보고서 생성, 분석법에 대해 더 자세히 알고 싶다면 [유입경로 탐색 분석 보고서 활용 가이드](https://osoma.kr/blog/ga4-funnel-exploration/){:target="_blank"} 글을 읽어보시기를 추천합니다.

## 정리하면

GA4 세그먼트. 생성 단계와 방법이 다소 달라졌지만 조금만 익숙해지면 UA에서 사용하던 것보다도 더 세밀하게 생성 활용할 수 있는 매력적인 기능입니다. 저장하거나 공유하는 부분에서 아직 불편한 점은 있지만, 이번달 들어 벌써 4건이나 큰 업데이트를 완료한 GA4이니만큼 필요한 기능을 제공하는 것은 시간문제가 아닐까요?

더욱 고도화될 세그먼트 기능을 마음껏 사용하기 위해서는 이벤트 데이터가 잘 구축되어 있어야 합니다. 우리 서비스에서 주요하게 봐야 할 핵심 행동이 무엇인지 정의하고 이벤트를 잘 세팅해서 GA4를 더 알차게 사용할 수 있게 되면 정말 좋겠습니다. 🙂
